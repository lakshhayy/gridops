# Solar Generation & Grid Export Credits

## Context
Many commercial buildings have onsite solar arrays. The energy generated by solar reduces the "Net Load" taken from the grid. If solar production exceeds the building's consumption, the excess is exported back to the grid for a credit.

## Requirements
1. **Optimizer Logic**: Update `optimizer/main.py` to accept an optional `solar_generation_kw` (float, default: 0.0).
2. **Net Load Calculation**:
   - `building_load` is calculated as before (Base Load - Savings).
   - `net_load = building_load - solar_generation_kw`.
3. **Financial Modeling**:
   - If `net_load > 0`: Cost is `net_load * current_tariff`.
   - If `net_load <= 0`: The user receives an "Export Credit" at a fixed rate of **4.50 INR/kWh**.
4. **Carbon Modeling**: `carbon_footprint` should be calculated based only on the `net_load` (clamped at 0, since solar has 0 emissions).
5. **API Integration**: Update the Node.js backend to accept and pass `solarGeneration` to the optimizer.

## Edge Cases
- If `solar_generation_kw` is 0 or missing, the system behaves normally.
- Carbon footprint cannot be negative (even if exporting energy).

## files_to_change
- `optimizer/main.py`
- `server/src/services/optimizer.service.ts`
- `server/src/routes/simulation.routes.ts`